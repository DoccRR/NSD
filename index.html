<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NOIZE SECRET DOCTRINE — Official</title>
<meta name="description" content="NSD aKa Noize Secret Doctrine — Official portal. Hardcore, Terrorcore, Speedcore, Uptempo Hardcore.">
<meta name="color-scheme" content="dark">
<style>
:root{
  --bg:#000;
  --fg:#fff;
  --muted:#aaa;
  --radius:20px;
  --font-futuristic:"Orbitron","Rajdhani","Exo 2",sans-serif;
}

/* Reset */
*{box-sizing:border-box;}
html,body{
  height:100%; margin:0; font-family:var(--font-futuristic);
  background:var(--bg) url('fondo.png') center/cover no-repeat fixed;
  color:var(--fg); overflow:hidden;
}

/* Carousel wrapper */
.carousel-container{
  display:flex;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
  width:100vw; height:100vh;
  padding:40px 0;
}
.carousel-container::-webkit-scrollbar{display:none;}
.carousel-container{-ms-overflow-style:none; scrollbar-width:none;}

/* Slides */
.slide{
  flex:0 0 80%;
  max-width:800px;
  height:80%;
  margin:0 30px;
  border-radius:var(--radius);
  scroll-snap-align:center;
  background-size:cover;
  background-position:center;
  display:flex;
  justify-content:center;
  align-items:flex-end;
  box-shadow:0 10px 30px rgba(0,0,0,0.6);
  position:relative;
  overflow:hidden;
  transition:transform .3s ease;
  text-decoration:none;
}
.slide:hover{transform:scale(1.03);}

/* Overlay dark gradient */
.slide::after{
  content:"";
  position:absolute;
  bottom:0; left:0;
  width:100%; height:60%;
  background:linear-gradient(to top, rgba(0,0,0,0.75), transparent);
}

/* Link text */
.slide span{
  position:relative;
  z-index:2;
  font-size:clamp(20px,3vw,32px);
  font-weight:900;
  text-transform:uppercase;
  color:var(--fg);
  text-shadow:0 0 10px rgba(0,0,0,0.8);
  margin-bottom:25px;
}

/* Footer info */
.footer-genres, .footer-records{
  position:absolute;
  width:100%; text-align:center;
  font-size:12px; color:var(--muted);
}
.footer-genres{bottom:30px;}
.footer-records{bottom:10px; letter-spacing:2px;}

/* Arrows */
.arrow{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:40px;
  color:rgba(255,255,255,0.6);
  z-index:10;
  cursor:pointer;
  user-select:none;
  animation:blink 1.5s infinite;
}
.arrow.left{left:15px;}
.arrow.right{right:15px;}
@keyframes blink{0%,100%{opacity:0.4;}50%{opacity:1;}}

/* Welcome overlay */
.welcome-overlay{
  position:absolute;
  inset:0;
  background:#000;
  color:#fff;
  display:none;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:20px;
  z-index:5;
}
.welcome-overlay h1{font-size:2rem; margin-bottom:10px;}
.welcome-overlay p{margin:5px 0;}

/* Modal SoundCloud */
#playerModal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.9);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:20;
}
#playerModal iframe{
  width:80%;
  max-width:600px;
  height:300px;
}
#playerModal button{
  position:absolute;
  top:20px; right:20px;
  background:none;
  border:none;
  color:#fff;
  font-size:30px;
  cursor:pointer;
}

/* PLAY slide layout (juego + botón) */
.play-inner{
  position:relative;
  z-index:2;
  width:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
  padding-bottom:30px;
}
#snakeWrap{
  background:#000;
  border:1px solid #444;
  border-radius:12px;
  padding:8px;
}
#snakeCanvas{
  display:block;
  width:min(90vw, 520px);
  height:auto;
  background:#000;
}
.snake-ui{
  font-size:12px;
  color:var(--muted);
  text-align:center;
}
.play-btn{
  background:#111; color:#fff; padding:12px 24px;
  border:none; border-radius:8px; font-size:1rem;
  cursor:pointer; text-transform:uppercase;
  margin-top:6px;
}
.score{
  position:absolute; top:10px; left:10px;
  font-size:12px; color:#bbb;
  background:rgba(0,0,0,0.5); padding:4px 8px; border-radius:6px;
}
</style>
</head>
<body>

<!-- Flechas -->
<div class="arrow left" onclick="scrollCarousel(-1)">❮</div>
<div class="arrow right" onclick="scrollCarousel(1)">❯</div>

<main class="carousel-container" role="navigation" aria-label="NSD links">
  <!-- Slide principal con overlay -->
  <div class="slide" style="background-image:url('NSD.jpg')" onclick="toggleWelcome()">
    <span>WELCOME</span>
    <div class="welcome-overlay" id="welcomeOverlay">
      <h1>THIS IS NSD AKA NOIZE SECRET DOCTRINE OFFICIAL WEBSITE</h1>
      <p>UNDERGROUND CREW</p>
    </div>
  </div>

  <!-- Enlaces -->
  <a class="slide" href="https://noizesecretdoctrine.bandcamp.com" target="_blank" rel="noopener noreferrer" style="background-image:url('bandcamp.png')">
    <span>BUY MUSIC</span>
  </a>
  <a class="slide" href="https://youtube.com/@noizesecretdoctrine" target="_blank" rel="noopener noreferrer" style="background-image:url('youtube.png')">
    <span>YOUTUBE</span>
  </a>
  <a class="slide" href="https://soundcloud.com/noizesd" target="_blank" rel="noopener noreferrer" style="background-image:url('soundcloud.png')">
    <span>SOUNDCLOUD</span>
  </a>
  <a class="slide" href="https://open.spotify.com/intl-es/artist/79wYn0trIxj3ewBLhOBUzX" target="_blank" rel="noopener noreferrer" style="background-image:url('spotify.png')">
    <span>SPOTIFY</span>
  </a>
  <a class="slide" href="https://instagram.com/nsd_noi" target="_blank" rel="noopener noreferrer" style="background-image:url('instagram.png')">
    <span>INSTAGRAM</span>
  </a>
  <a class="slide" href="https://triple6.nl/bookings/" target="_blank" rel="noopener noreferrer" style="background-image:url('bookings.png')">
    <span>BOOKINGS</span>
  </a>

  <!-- MERCH -->
  <a class="slide" href="https://triple6-shop.nl/collections/nsd?fbclid=PAdGRjcAMef8NjbGNrAaK88GV4dG4DYWVtAjEwAAGm4gmnMBOBDD4L9CVMSvJyJRhdXItTSxn9rzQLl9AvApL3gfL86sbbZ-Q__aem_Eemvq29OOpwNv8oeXUy01g" target="_blank" rel="noopener noreferrer" style="background-image:url('merch.png')">
    <span>MERCHANDISING</span>
  </a>

  <!-- PLAY: Snake + botón modal -->
  <div class="slide" style="background-image:url('fondo.png'); background-size:cover; background-position:center; display:flex; justify-content:center; align-items:flex-end; flex-direction:column;">
    <span>PLAY</span>
    <div class="play-inner">
      <div id="snakeWrap">
        <div class="score" id="score">SCORE: 0</div>
        <canvas id="snakeCanvas" width="400" height="400" aria-label="Snake game"></canvas>
      </div>
      <div class="snake-ui">Click/tap donde quieras para girar hacia ese lado • Flechas del teclado también funcionan</div>
      <button class="play-btn" onclick="openModal()">▶ PLAY NSD</button>
    </div>
  </div>
</main>

<footer class="footer-genres">
  Hardcore, Terrorcore, Speedcore, Uptempo Hardcore
</footer>
<div class="footer-records">DOCTRINE RECORDS</div>

<!-- Modal con SoundCloud -->
<div id="playerModal">
  <button onclick="closeModal()">✕</button>
  <iframe 
    scrolling="no" 
    frameborder="no" 
    allow="autoplay" 
    src="https://w.soundcloud.com/player/?url=https%3A//soundcloud.com/noizesd&color=%23000000&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true">
  </iframe>
</div>

<script>
const carousel = document.querySelector('.carousel-container');
function scrollCarousel(direction){
  const slideWidth = document.querySelector('.slide').offsetWidth + 60;
  carousel.scrollBy({left: slideWidth * direction, behavior:'smooth'});
}
carousel.addEventListener('wheel', e=>{
  e.preventDefault();
  carousel.scrollBy({left:e.deltaY, behavior:'smooth'});
});

// overlay welcome
function toggleWelcome(){
  const overlay = document.getElementById('welcomeOverlay');
  overlay.style.display = overlay.style.display === 'flex' ? 'none' : 'flex';
}

// modal soundcloud
function openModal(){ document.getElementById('playerModal').style.display = 'flex'; }
function closeModal(){ document.getElementById('playerModal').style.display = 'none'; }

/* === Snake minimal === */
(function(){
  const canvas = document.getElementById('snakeCanvas');
  const ctx = canvas.getContext('2d');
  const scoreEl = document.getElementById('score');
  const GRID = 20;                 // 20x20 celdas
  const SPEED = 140;               // ms por paso
  const W = canvas.width, H = canvas.height;
  const CELL = W / GRID;

  let snake, dir, food, running, score, pendingDir;

  function reset(){
    snake = [{x:10,y:10},{x:9,y:10},{x:8,y:10}];
    dir = {x:1,y:0};
    pendingDir = null;
    score = 0;
    placeFood();
    running = true;
  }

  function placeFood(){
    while(true){
      const f = {x: Math.floor(Math.random()*GRID), y: Math.floor(Math.random()*GRID)};
      if(!snake.some(s=>s.x===f.x && s.y===f.y)){
        food = f; return;
      }
    }
  }

  function step(){
    if(!running) return;
    // aplicar dirección pendiente (evitar invertir 180º)
    if(pendingDir){
      const nd = pendingDir;
      if(!(nd.x === -dir.x && nd.y === -dir.y)){
        dir = nd;
      }
      pendingDir = null;
    }
    const head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
    // colisiones bordes
    if(head.x<0 || head.y<0 || head.x>=GRID || head.y>=GRID){ running=false; draw(); return; }
    // colisión propia
    if(snake.some(s=>s.x===head.x && s.y===head.y)){ running=false; draw(); return; }

    snake.unshift(head);
    if(head.x === food.x && head.y === food.y){
      score += 10;
      placeFood();
    } else {
      snake.pop();
    }
    draw();
  }

  function draw(){
    // fondo negro
    ctx.fillStyle = '#000';
    ctx.fillRect(0,0,W,H);

    // vinilo (food): círculo con aro blanco
    const fx = food.x*CELL + CELL/2;
    const fy = food.y*CELL + CELL/2;
    ctx.strokeStyle = '#fff';
    ctx.lineWidth = 2;
    ctx.beginPath(); ctx.arc(fx, fy, CELL*0.35, 0, Math.PI*2); ctx.stroke();
    ctx.beginPath(); ctx.arc(fx, fy, CELL*0.12, 0, Math.PI*2); ctx.stroke();

    // snake blanca (cuadrados)
    ctx.fillStyle = '#fff';
    snake.forEach((seg,i)=>{
      ctx.fillRect(seg.x*CELL, seg.y*CELL, CELL-1, CELL-1);
    });

    scoreEl.textContent = 'SCORE: ' + score + (running ? '' : ' — GAME OVER (click para reiniciar)');
  }

  // input teclado
  window.addEventListener('keydown', (e)=>{
    const k = e.key;
    if(!running && (k.startsWith('Arrow') || k===' ')){ reset(); return; }
    if(k==='ArrowUp') pendingDir = {x:0,y:-1};
    else if(k==='ArrowDown') pendingDir = {x:0,y:1};
    else if(k==='ArrowLeft') pendingDir = {x:-1,y:0};
    else if(k==='ArrowRight') pendingDir = {x:1,y:0};
  });

  // input clic/tap: dirigir hacia el punto clicado (eje dominante)
  function clickDir(evt){
    const rect = canvas.getBoundingClientRect();
    const cx = (evt.touches ? evt.touches[0].clientX : evt.clientX) - rect.left;
    const cy = (evt.touches ? evt.touches[0].clientY : evt.clientY) - rect.top;
    // cabeza en píxeles
    const hx = (snake[0].x + 0.5) * CELL;
    const hy = (snake[0].y + 0.5) * CELL;
    const dx = cx - hx;
    const dy = cy - hy;
    if(!running){ reset(); return; }
    if(Math.abs(dx) > Math.abs(dy)){
      pendingDir = {x: dx>0 ? 1 : -1, y: 0};
    } else {
      pendingDir = {x: 0, y: dy>0 ? 1 : -1};
    }
  }
  canvas.addEventListener('click', clickDir);
  canvas.addEventListener('touchstart', (e)=>{ e.preventDefault(); clickDir(e); }, {passive:false});

  // loop
  reset();
  draw();
  setInterval(step, SPEED);

  // mantener canvas nítido al escalar (ya fijamos width/height en atributos)
})();
</script>

</body>
</html>
