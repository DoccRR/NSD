<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NOIZE SECRET DOCTRINE — Official</title>
<meta name="description" content="NSD aKa Noize Secret Doctrine — Official portal. Hardcore, Terrorcore, Speedcore, Uptempo Hardcore.">
<meta name="color-scheme" content="dark">
<style>
:root {
  --bg: #000;
  --fg: #fff;
  --muted: #aaa;
  --radius: 20px;
  --font-futuristic: "Orbitron","Rajdhani","Exo 2",sans-serif;
}

* { box-sizing: border-box; }
html, body {
  height: 100%; margin: 0;
  font-family: var(--font-futuristic);
  background: var(--bg); color: var(--fg);
  overflow: hidden;
}

/* --- CAROUSEL --- */
.carousel-container {
  display: flex;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  width: 100vw; height: 100vh;
  padding: 40px 0;
}
.carousel-container::-webkit-scrollbar { display: none; }

.slide {
  flex: 0 0 80%;
  max-width: 800px;
  height: 80%;
  margin: 0 30px;
  border-radius: var(--radius);
  scroll-snap-align: center;
  background-size: cover;
  background-position: center;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  position: relative;
  overflow: hidden;
  transition: transform .3s ease;
  text-decoration: none;
}
.slide:hover { transform: scale(1.03); }

/* --- NSDAKE --- */
#snakeWrapper {
  width: 100%; height: 100%;
  background: #000; display: flex;
  justify-content: center; align-items: center;
  flex-direction: column;
}
#snakeCanvas { display: none; background:#000; }
#playSnakeBtn {
  background: red; color: white; font-size: 20px;
  border: none; padding: 12px 24px;
  border-radius: 12px; cursor: pointer;
  transition: .2s;
}
#playSnakeBtn:hover { transform: scale(1.1); }

/* --- Game Over --- */
#gameOverScreen {
  display: none;
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.9);
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 15px;
}
#gameOverScreen input {
  padding: 8px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
}
#gameOverScreen button {
  background: red;
  color: white;
  padding: 8px 16px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
#ranking {
  margin-top: 20px;
  font-size: 16px;
  text-align: left;
}
</style>
</head>
<body>

<!-- Flechas -->
<div class="arrow left">❮</div>
<div class="arrow right">❯</div>

<!-- Carousel -->
<main class="carousel-container">
  <div class="slide" style="background-image:url('NSD.jpg')">
    <span>WELCOME</span>
  </div>

  <a class="slide" href="https://noizesecretdoctrine.bandcamp.com" target="_blank" rel="noopener noreferrer" style="background-image:url('bandcamp.png')">
    <span>BUY MUSIC</span>
  </a>
  <a class="slide" href="https://youtube.com/@noizesecretdoctrine" target="_blank" rel="noopener noreferrer" style="background-image:url('youtube.png')">
    <span>YOUTUBE</span>
  </a>
  <a class="slide" href="https://soundcloud.com/noizesd" target="_blank" rel="noopener noreferrer" style="background-image:url('soundcloud.png')">
    <span>SOUNDCLOUD</span>
  </a>
  <a class="slide" href="https://open.spotify.com/intl-es/artist/79wYn0trIxj3ewBLhOBUzX" target="_blank" rel="noopener noreferrer" style="background-image:url('spotify.png')">
    <span>SPOTIFY</span>
  </a>
  <a class="slide" href="https://instagram.com/nsd_noi" target="_blank" rel="noopener noreferrer" style="background-image:url('instagram.png')">
    <span>INSTAGRAM</span>
  </a>
  <a class="slide" href="https://triple6.nl/bookings/" target="_blank" rel="noopener noreferrer" style="background-image:url('bookings.png')">
    <span>BOOKINGS</span>
  </a>

  <!-- MERCH -->
  <a class="slide" href="https://triple6-shop.nl/collections/nsd" target="_blank" rel="noopener noreferrer" style="background-image:url('merch.png')">
    <span>MERCHANDISING</span>
  </a>

  <!-- NSDAKE GAME -->
  <div class="slide">
    <div id="snakeWrapper">
      <button id="playSnakeBtn">PLAY NSDAKE</button>
      <canvas id="snakeCanvas"></canvas>
      <div id="gameOverScreen">
        <h2>GAME OVER</h2>
        <p>Your Score: <span id="finalScore"></span></p>
        <input id="nickname" placeholder="Enter nickname">
        <button id="saveScore">Save Score</button>
        <div id="ranking"></div>
      </div>
    </div>
  </div>
</main>

<!-- FOOTER -->
<footer class="footer-genres">Hardcore, Terrorcore, Speedcore, Uptempo Hardcore</footer>
<div class="footer-records">DOCTRINE RECORDS</div>

<script>
/* --- CAROUSEL --- */
const container = document.querySelector('.carousel-container');
document.querySelector('.arrow.left').addEventListener('click', ()=> {
  container.scrollBy({left: -window.innerWidth*0.8, behavior:"smooth"});
});
document.querySelector('.arrow.right').addEventListener('click', ()=> {
  container.scrollBy({left: window.innerWidth*0.8, behavior:"smooth"});
});
container.addEventListener('wheel', e=>{
  e.preventDefault();
  container.scrollBy({left: e.deltaY, behavior:"smooth"});
}, {passive:false});

/* --- NSDAKE GAME --- */
const canvas = document.getElementById('snakeCanvas');
const ctx = canvas.getContext('2d');
const playBtn = document.getElementById('playSnakeBtn');
const gameOverScreen = document.getElementById('gameOverScreen');
const finalScoreEl = document.getElementById('finalScore');
const saveBtn = document.getElementById('saveScore');
const rankingEl = document.getElementById('ranking');

let box = 20, snake, dir, food, game, score=0;

function init() {
  canvas.width = 400; // fijo para simplicidad
  canvas.height = 400;
  snake = [{x:9*box,y:10*box}];
  dir = null;
  score = 0;
  food = randomFood();
  clearInterval(game);
  game = setInterval(draw,150);
}

function randomFood(){
  return {
    x: Math.floor(Math.random()*(canvas.width/box))*box,
    y: Math.floor(Math.random()*(canvas.height/box))*box
  }
}

function draw() {
  ctx.fillStyle="#000";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  for(let i=0;i<snake.length;i++) {
    ctx.fillStyle="#f00";
    ctx.fillRect(snake[i].x,snake[i].y,box-2,box-2);
  }

  ctx.fillStyle="#f00";
  ctx.beginPath();
  ctx.arc(food.x+box/2, food.y+box/2, box/2.5, 0, 2*Math.PI);
  ctx.fill();

  let headX=snake[0].x, headY=snake[0].y;
  if(dir=="LEFT") headX-=box;
  if(dir=="UP") headY-=box;
  if(dir=="RIGHT") headX+=box;
  if(dir=="DOWN") headY+=box;

  if(headX==food.x && headY==food.y) {
    food=randomFood();
    score++;
  } else {
    snake.pop();
  }

  let newHead={x:headX,y:headY};
  if(headX<0 || headY<0 || headX>=canvas.width || headY>=canvas.height || collision(newHead,snake)) {
    gameOver();
    return;
  }
  snake.unshift(newHead);
}

function collision(h,array) {
  for(let i=0;i<array.length;i++) {
    if(h.x==array[i].x && h.y==array[i].y) return true;
  }
  return false;
}

/* GAME FLOW */
function gameOver(){
  clearInterval(game);
  finalScoreEl.textContent = score;
  gameOverScreen.style.display="flex";
}

/* Ranking */
function saveScore(){
  const nick=document.getElementById('nickname').value || "Anon";
  let scores=JSON.parse(localStorage.getItem("nsdakeScores"))||[];
  scores.push({nick,score});
  scores.sort((a,b)=>b.score-a.score);
  scores=scores.slice(0,5);
  localStorage.setItem("nsdakeScores",JSON.stringify(scores));
  showRanking(scores);
}

function showRanking(scores){
  rankingEl.innerHTML="<h3>TOP 5</h3><ol>"+scores.map(s=>`<li>${s.nick} — ${s.score}</li>`).join("")+"</ol>";
}

saveBtn.addEventListener("click",()=>{
  saveScore();
  gameOverScreen.style.display="none";
  canvas.style.display="none";
  playBtn.style.display="block";
});

/* Start game */
playBtn.addEventListener("click",()=>{
  playBtn.style.display="none";
  canvas.style.display="block";
  gameOverScreen.style.display="none";
  init();
});

document.addEventListener("keydown",e=>{
  if(e.code=="ArrowLeft" && dir!="RIGHT") dir="LEFT";
  if(e.code=="ArrowUp" && dir!="DOWN") dir="UP";
  if(e.code=="ArrowRight" && dir!="LEFT") dir="RIGHT";
  if(e.code=="ArrowDown" && dir!="UP") dir="DOWN";
});
</script>
</body>
</html>
